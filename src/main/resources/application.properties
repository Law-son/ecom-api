spring.application.name=ecom
spring.profiles.active=dev
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/ecomdb}
spring.datasource.username=${DB_USER:postgres}
spring.datasource.password=${DB_PASSWORD:}
spring.jpa.open-in-view=false

# Actuator endpoints for performance monitoring
management.endpoints.web.exposure.include=health,metrics,threaddump,heapdump,info,env,loggers
management.endpoint.health.show-details=always
management.metrics.export.simple.enabled=true

# Hibernate SQL logging for performance analysis
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.generate_statistics=true
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.hibernate.stat=DEBUG

logging.level.root=warn
logging.level.com.eyarko.ecom.config.RequestLoggingFilter=info
app.security.jwt.secret=${JWT_SECRET:dev-only-change-me-dev-only-change-me}
app.security.jwt.expiration-minutes=${JWT_EXPIRATION_MINUTES:60}
app.security.jwt.refresh-expiration-days=${JWT_REFRESH_EXPIRATION_DAYS:7}

# OAuth2 (Google) - provide these via env vars when ready
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_OAUTH_CLIENT_ID:}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_OAUTH_CLIENT_SECRET:}
spring.security.oauth2.client.registration.google.scope=${GOOGLE_OAUTH_SCOPES:openid,profile,email}

# OAuth2 role mapping (comma-separated emails). If empty, defaults to CUSTOMER.
app.security.oauth2.admin-emails=${OAUTH2_ADMIN_EMAILS:}
app.security.oauth2.staff-emails=${OAUTH2_STAFF_EMAILS:}
# Where to redirect after successful OAuth2 login (frontend will read tokens from query params)
app.security.oauth2.redirect-uri=${OAUTH2_REDIRECT_URI:http://localhost:5173/oauth2/redirect}
app.cache.enabled=${APP_CACHE_ENABLED:true}
# CORS configuration
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:5173,http://127.0.0.1:5173}
app.cors.allowed-methods=${CORS_ALLOWED_METHODS:GET,POST,PUT,PATCH,DELETE,OPTIONS}
app.cors.allowed-headers=${CORS_ALLOWED_HEADERS:*}
app.cors.allow-credentials=${CORS_ALLOW_CREDENTIALS:true}
app.cors.max-age=${CORS_MAX_AGE:3600}
